---
source: TXT_mega-distill_2-final-output_2-knowledge-base_2.4-engineering_TOOLS-ARSENAL-ULTRA-16-5-6.md
distilled_at: 2026-02-14T09:19:31.080Z
model: grok-4-1-fast-non-reasoning
---

# ğŸ› ï¸ å·¥å…·æ­¦å™¨åº« | TOOL ARSENAL

**åˆ†é¡è·¯å¾‘**ï¼š2-knowledge-base/2.4-engineering  
**ä¾†æºæ–‡ä»¶**ï¼šdocs/05-è³‡æºèˆ‡å·¥å…·/TOOLS-ARSENAL-ULTRA.md  
**è’¸é¤¾å·¥å…·**ï¼šgrok-4-0709  
**æ¨¡å¼**ï¼šB  
**éƒ¨åˆ†**ï¼š16  
**ä¸»é¡Œ**ï¼š5.6 Figmaæ’ä»¶é–‹ç™¼ç‰‡æ®µ

## ä»‹ç´¹

æœ¬ç¯€èšç„¦æ–¼ **Figmaæ’ä»¶é–‹ç™¼çš„æ ¸å¿ƒç‰‡æ®µ**ï¼Œç‰¹åˆ¥æ˜¯é€éæ’ä»¶ä»‹é¢ï¼ˆUIï¼‰èˆ‡ Figma ç•«å¸ƒé€²è¡Œé›™å‘é€šè¨Šçš„åŸºç¤å¯¦ä½œã€‚é€™æ˜¯æ§‹å»ºé«˜æ•ˆ Figma æ’ä»¶çš„é—œéµèµ·é»ï¼Œå…è¨±é–‹ç™¼è€…å›æ‡‰ä½¿ç”¨è€…è¼¸å…¥ä¸¦å‹•æ…‹å‰µå»ºåœ–å½¢å…ƒç´ ã€‚Figma çš„æ’ä»¶ç³»çµ±åŸºæ–¼ Web æŠ€è¡“ï¼ˆHTML/CSS/JSï¼‰ï¼Œé€éäº‹ä»¶ç›£è½èˆ‡æ¶ˆæ¯å‚³éæ©Ÿåˆ¶ï¼Œå¯¦ç¾èˆ‡ Figma æ ¸å¿ƒ API çš„ç„¡ç¸«æ•´åˆã€‚

æ­¤ç‰‡æ®µé©ç”¨æ–¼åˆå­¸è€…å¿«é€Ÿä¸Šæ‰‹ï¼Œæˆ–ä½œç‚ºé€²éšæ’ä»¶ï¼ˆå¦‚è‡ªå‹•åŒ–å·¥å…·ã€ç”Ÿæˆå™¨ï¼‰çš„æ¨¡çµ„åŒ–åŸºç¤ã€‚å®Œæ•´æ’ä»¶éœ€åŒ…å« `manifest.json`ã€`code.ts`ï¼ˆä¸»é‚è¼¯ï¼‰å’Œ `ui.html`ï¼ˆä½¿ç”¨è€…ä»‹é¢ï¼‰ã€‚

## Figma æ’ä»¶æ ¸å¿ƒæ¶æ§‹

Figma æ’ä»¶åˆ†ç‚ºå…©ç«¯ï¼š
- **æ’ä»¶ä¸»é‚è¼¯**ï¼ˆ`code.ts`ï¼‰ï¼šè™•ç† Figma APIã€äº‹ä»¶ç›£è½ã€‚
- **UI ç«¯**ï¼ˆ`ui.html`ï¼‰ï¼šä½¿ç”¨è€…äº’å‹•ä»‹é¢ï¼Œé€é `parent.postMessage` ç™¼é€æŒ‡ä»¤ã€‚

### æ ¸å¿ƒäº‹ä»¶ç›£è½æ©Ÿåˆ¶
æ’ä»¶ä¸»é‚è¼¯çš„æ ¸å¿ƒæ˜¯ç›£è½ä¾†è‡ª UI çš„æ¶ˆæ¯ï¼š

```typescript
figma.ui.onmessage = msg => {
  // è™•ç†ä¸åŒæ¶ˆæ¯é¡å‹
  if (msg.type === 'create-rect') {
    // åŸ·è¡ŒçŸ©å½¢å‰µå»ºé‚è¼¯
  }
}
```

- **è§¸ç™¼æ™‚æ©Ÿ**ï¼šç•¶ UI ç«¯å‘¼å« `parent.postMessage({ pluginMessage: { type: 'create-rect' } }, '*')` æ™‚ã€‚
- **è„ˆçµ¡**ï¼šé€™æ˜¯ Figma æ’ä»¶çš„æ¨™æº–é€šè¨Šæ©‹æ¨‘ï¼Œæ”¯æŒä»»æ„ JSON è³‡æ–™å‚³éï¼ˆåŒ…å«åƒæ•¸ã€å›èª¿ç­‰ï¼‰ã€‚
- **éŒ¯èª¤è™•ç†å»ºè­°**ï¼šåŠ å…¥ `try-catch` èˆ‡ `figma.notify` å›é¥‹ä½¿ç”¨è€…ã€‚

## å¯¦ä½œç¯„ä¾‹ï¼šå‹•æ…‹å‰µå»ºæ©™è‰²çŸ©å½¢

ä»¥ä¸‹æ˜¯å®Œæ•´ç‰‡æ®µï¼ŒåŸºæ–¼æä¾›çš„é—œéµäº‹å¯¦ï¼Œå±•ç¤ºå¦‚ä½•å›æ‡‰ `'create-rect'` æ¶ˆæ¯ä¸¦åœ¨ç•«å¸ƒä¸Šç”ŸæˆçŸ©å½¢ã€‚

### å®Œæ•´ä»£ç¢¼ç‰‡æ®µï¼ˆcode.tsï¼‰
```typescript
// é¡¯ç¤ºæ’ä»¶ UI
figma.showUI(__html__, { width: 300, height: 200 });

// æ ¸å¿ƒäº‹ä»¶ç›£è½
figma.ui.onmessage = msg => {
  if (msg.type === 'create-rect') {
    // å‰µå»ºçŸ©å½¢å…ƒç´ 
    const rect = figma.createRectangle();
    
    // è¨­ç½®ä½ç½®èˆ‡æ¨£å¼
    rect.x = 150;
    rect.fills = [{ 
      type: 'SOLID', 
      color: { r: 1, g: 0.5, b: 0 }  // æ©™è‰² (R:1, G:0.5, B:0)ï¼Œç¯„åœ 0-1
    }];
    
    // æ·»åŠ åˆ°ç•¶å‰é é¢
    figma.currentPage.appendChild(rect);
    
    // é¸ä¸­ä¸¦é€šçŸ¥ä½¿ç”¨è€…
    figma.currentPage.selection = [rect];
    figma.notify('æ©™è‰²çŸ©å½¢å·²å‰µå»ºï¼');
  }
  
  // é—œé–‰æ’ä»¶ï¼ˆå¯é¸ï¼‰
  figma.closePlugin();
};
```

### UI ç«¯ç¯„ä¾‹ï¼ˆui.html ä¸­çš„æŒ‰éˆ•äº‹ä»¶ï¼‰
```html
<button id="createRect">å‰µå»ºæ©™è‰²çŸ©å½¢</button>
<script>
  document.getElementById('createRect').onclick = () => {
    parent.postMessage({ pluginMessage: { type: 'create-rect' } }, '*');
  };
</script>
```

## é—œéµå±¬æ€§èˆ‡ API è§£é‡‹

| å±¬æ€§/æ–¹æ³• | æè¿° | ç¯„ä¾‹å€¼ | æ³¨æ„äº‹é … |
|-----------|------|--------|----------|
| `figma.ui.onmessage` | ç›£è½ UI æ¶ˆæ¯çš„å›èª¿å‡½æ•¸ | `msg => { ... }` | æ”¯æ´å¤šé¡å‹æ¶ˆæ¯ï¼ˆ`msg.type` åˆ¤æ–·ï¼‰ |
| `msg.type` | æ¶ˆæ¯é¡å‹å­—ä¸² | `'create-rect'` | è‡ªè¨‚ï¼Œå»ºè­°ä½¿ç”¨æšèˆ‰æˆ–å¸¸æ•¸ |
| `figma.createRectangle()` | å‰µå»ºçŸ©å½¢ç¯€é» | è¿”å› `RectangleNode` | å…¶ä»–å½¢ç‹€ï¼š`createEllipse()`ã€`createLine()` ç­‰ |
| `rect.x` | X è»¸åæ¨™ï¼ˆç•«å¸ƒå–®ä½ï¼‰ | `150` | å¯å‹•æ…‹è¨ˆç®—ï¼Œå¦‚ `figma.viewport.center.x` |
| `rect.fills` | å¡«å……æ¨£å¼é™£åˆ— | `[{type: 'SOLID', color: {r:1,g:0.5,b:0}}]` | æ”¯æŒæ¼¸å±¤ `GRADIENT_LINEAR`ã€åœ–ç‰‡ `IMAGE` ç­‰ |
| `figma.currentPage.appendChild(rect)` | å°‡ç¯€é»æ·»åŠ åˆ°ç•¶å‰é é¢ | - | æ›¿ä»£ï¼š`insertChild(index, node)` æ§åˆ¶é †åº |

### é¡è‰²ç³»çµ±è„ˆçµ¡
- Figma ä½¿ç”¨ **RGB æµ®é»æ•¸**ï¼ˆ0.0 ~ 1.0ï¼‰ï¼Œé 0-255ã€‚
- æ©™è‰²ç¯„ä¾‹ï¼š`r:1` (æ»¿ç´…)ã€`g:0.5` (åŠç¶ )ã€`b:0` (ç„¡è—)ã€‚
- é€²éšï¼šæ·»åŠ  `opacity: 0.8` æˆ–å¤šå¡«å……å±¤ã€‚

## æ“´å±•æ‡‰ç”¨èˆ‡æœ€ä½³å¯¦å‹™

1. **åƒæ•¸åŒ–**ï¼šæ“´å±•æ¶ˆæ¯æ”¯æ´å‹•æ…‹å±¬æ€§ï¼Œå¦‚ `{type: 'create-rect', x: 200, color: '#FF6B35'}`ã€‚
2. **æ‰¹é‡å‰µå»º**ï¼šè¿´åœˆç”Ÿæˆå¤šå…ƒç´ ï¼Œæˆ–æ•´åˆ `figma.group()`ã€‚
3. **äº‹ä»¶æ•´åˆ**ï¼šçµåˆ `figma.on('selectionchange', ...)` ç›£è½ç•«å¸ƒè®ŠåŒ–ã€‚
4. **æ•ˆèƒ½å„ªåŒ–**ï¼šå¤§è¦æ¨¡æ“ä½œä½¿ç”¨ `figma.viewport.scrollAndZoomIntoView(nodes)`ã€‚
5. **é™¤éŒ¯**ï¼šåœ¨ Console ä¸­æ¸¬è©¦ `figma.currentPage.children`ã€‚
6. **å¸¸è¦‹é™·é˜±**ï¼š
   - å¿˜è¨˜ `figma.closePlugin()` å°è‡´æ’ä»¶å¡ä½ã€‚
   - é¡è‰²å€¼è¶…å‡º 0-1 ç¯„åœå°è‡´ç„¡å¡«å……ã€‚
   - æœªæª¢æŸ¥ `figma.currentPage` æ˜¯å¦å­˜åœ¨ã€‚

## ç›¸é—œè³‡æº
- [Figma Plugin API æ–‡æª”](https://www.figma.com/plugin-docs/intro/)
- é€²éšä¸»é¡Œï¼šAuto Layoutã€å‘é‡ç¶²è·¯ã€Webhooks æ•´åˆã€‚

æ­¤æ–‡æª”ç‚ºå·¥å…·æ­¦å™¨åº«çš„ç²¾ç…‰çŸ¥è­˜é»ï¼Œé©ç”¨æ–¼å¿«é€Ÿåƒè€ƒèˆ‡å³æ™‚æ‡‰ç”¨ã€‚