---
distilled_by: grok-4-0709
mode: B
---
part: 3
---

## 3. 最佳实践与操作指引

### 3.1 密钥管理最佳实践

背景：密钥洩露可能導致數據洩露。原理：遵循最小權限原則和定期輪換。

#### 3.11 環境分離與命名規範

實例：使用 `DEV_DB_URL`、`PRD_DB_URL` 命名，避免混淆。

代码範例6：密钥輪換腳本（註釋：自動化輪換）

```bash
# 腳本：rotate_secrets.sh
doppler secrets set API_KEY "$(generate_new_key)"  # 假設有生成新密钥的函數
# 註釋：運行此腳本定期輪換密钥，並記錄版本
```

#### 3.12 審計與監控

原理：审计日志記錄所有操作，支持合規如 GDPR。

### 3.2 詳細操作指引

從註冊到部署的手把手教程。

代码範例7：項目創建（註釋：初始設定）

```bash
# 創建新項目
doppler projects create my-app
# 添加環境
doppler configs create dev stg prd
# 註釋：這設定了多環境結構
```

代码範例8：集成到 Docker（註釋：容器化應用）

```dockerfile
# Dockerfile
FROM node:14
RUN curl -Ls https://cli.doppler.com/install.sh | sh
CMD ["doppler", "run", "--", "node", "server.js"]
# 註釋：容器運行時從 Doppler 注入密钥
```
