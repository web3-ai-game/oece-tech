---
distilled_by: grok-4-0709
mode: B
---
part: 4
---

## 4. 推演流程深度解析

推演流程是系統的核心，背景為敘事引擎（narrative engine）的概念，類似遊戲開發中的劇情模擬器。原理基於狀態機（state machine）：從初始狀態透過行動轉移到新狀態。

### 4.1 選材與素材包製作

從 MD/CATALOG.md 挑選，製作「素材卡」——這是知識表示（knowledge representation）的應用。

### 4.11 原理與實例

原理：使用 NLP 提取關鍵命題。實例：從一本偵探小說中抽出 50 條摘要，如「偵探發現線索」。

### 4.2 生成世界觀

抽出元素生成 JSON，原理為 ontology engineering。

### 4.21 提示詞範例擴展

使用手冊中的提示詞，可擴展為多輪對話。

### 4.3 推演多回合與匯出

每回合固定輸出，匯出為 JSON 用於渲染。
