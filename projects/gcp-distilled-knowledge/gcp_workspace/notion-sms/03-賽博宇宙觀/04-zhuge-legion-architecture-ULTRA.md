# âš¡ è«¸è‘›è»åœ˜Â·MoE èªçŸ¥å¼•æ“ | ZHUGE LEGION Â· MOE SYSTEM

```ascii
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                   â•‘
â•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                    â•‘
â•‘   â•šâ•â•â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•”â•â•â•â•â•                    â•‘
â•‘     â–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                      â•‘
â•‘    â–ˆâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•                      â•‘
â•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                    â•‘
â•‘   â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•                    â•‘
â•‘                                                                   â•‘
â•‘   [ ä»£è™Ÿ: ZHUGE-LEGION-5MOE ]                                    â•‘
â•‘   [ æ¶æ§‹: 5 å°ˆå®¶æ··åˆé«” Â· ç´ä»€å‡è¡¡å¼•æ“ ]                          â•‘
â•‘   [ æˆæœ¬: $0.02/æ±ºç­– | 95%æˆæœ¬å‰Šæ¸› ]                             â•‘
â•‘                                                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**ä¾†æºå‚³è¼¸**: https://www.notion.so/a8125e6333e140a48cb358c9bb07cfe3  
**æ›´æ–°æ™‚é–“**: 2025-11-21  
**æ ¸å¿ƒç†è«–**: **æ··åˆå°ˆå®¶ç³»çµ± (MoE) Ã— åšå¼ˆè«– Ã— æœ¬åœ°ç®—åŠ›**  
**æˆæœ¬é©å‘½**: **å¾ $1/æ±ºç­– â†’ $0.02/æ±ºç­– (å‰Šæ¸›95%)**

---

## ğŸ“¡ ç³»çµ±èµ·æº | SYSTEM GENESIS

```ascii
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è¨­è¨ˆå“²å­¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                           â”‚
â”‚  å•é¡Œ: å–®ä¸€ AI æ¨¡å‹å­˜åœ¨èªçŸ¥ç›²å€           â”‚
â”‚  è§£æ±º: 5 å€‹ä¸åŒè¦–è§’çš„ AI ä¸¦ç™¼æ¨ç†         â”‚
â”‚  çµæœ: å¤šç¶­åº¦åˆ†æ â†’ ç´ä»€å‡è¡¡è§£            â”‚
â”‚                                           â”‚
â”‚  æˆæœ¬æ§åˆ¶:                                â”‚
â”‚  â”œâ”€ Key 1-4: æœ¬åœ° Yi-6B (é›¶æˆæœ¬)         â”‚
â”‚  â””â”€ Key 5: Gemini API (æœ€çµ‚ä»²è£)         â”‚
â”‚                                           â”‚
â”‚  æŠ€è¡“çªç ´:                                â”‚
â”‚  æ··åˆæ¶æ§‹ = æœ¬åœ°ç®—åŠ› + é›²ç«¯æ™ºæ…§           â”‚
â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### äº”å¤§å°ˆå®¶è§’è‰²

```ascii
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                           â•‘
â•‘   [å°ˆå®¶ #1] ç†æƒ³ä¸»ç¾©å»ºç¯‰å¸« (ARCHITECT)                   â•‘
â•‘   â””â”€ è¨­è¨ˆç„¡é™è³‡æºä¸‹çš„æœ€å„ªæ–¹æ¡ˆ                            â•‘
â•‘   â””â”€ æº«åº¦: 0.7 | é‹è¡Œ: æœ¬åœ° Yi-6B                        â•‘
â•‘                                                           â•‘
â•‘   [å°ˆå®¶ #2] ç´…éšŠæ”»æ“Šè€… (ADVERSARY)                       â•‘
â•‘   â””â”€ æ‰¾å‡ºæ‰€æœ‰æ¼æ´å’Œé¢¨éšªé»                                â•‘
â•‘   â””â”€ æº«åº¦: 0.8 | é‹è¡Œ: æœ¬åœ° Yi-6B                        â•‘
â•‘                                                           â•‘
â•‘   [å°ˆå®¶ #3] ç¾å¯¦ç´„æŸè©•ä¼°è€… (REALIST)                     â•‘
â•‘   â””â”€ è©•ä¼°å¯è¡Œæ€§èˆ‡çœŸå¯¦æˆæœ¬                                â•‘
â•‘   â””â”€ æº«åº¦: 0.7 | é‹è¡Œ: æœ¬åœ° Yi-6B                        â•‘
â•‘                                                           â•‘
â•‘   [å°ˆå®¶ #4] æ··æ²Œè®Šç•°å™¨ (CHAOS)                           â•‘
â•‘   â””â”€ æå‡ºé•åç›´è¦ºä½†å¯èƒ½æœ‰æ•ˆçš„æ–¹æ¡ˆ                        â•‘
â•‘   â””â”€ æº«åº¦: 1.5 | é‹è¡Œ: æœ¬åœ° Yi-6B                        â•‘
â•‘                                                           â•‘
â•‘   [å°ˆå®¶ #5] ç´ä»€å‡è¡¡ä»²è£è€… (ARBITER)                     â•‘
â•‘   â””â”€ ç¶œåˆåˆ†æ,è¼¸å‡ºæœ€çµ‚æ±ºç­–                               â•‘
â•‘   â””â”€ æº«åº¦: 0.7 | é‹è¡Œ: Gemini 1.5 Pro                    â•‘
â•‘                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹ | SYSTEM ARCHITECTURE

### æŠ€è¡“æ£§å…¨æ™¯

```ascii
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æŠ€è¡“çŸ©é™£ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚  æ ¸å¿ƒèªè¨€: Go 1.21+                          â”‚
â”‚  â”œâ”€ é«˜æ€§èƒ½ä¸¦ç™¼                               â”‚
â”‚  â”œâ”€ ä½å…§å­˜ä½”ç”¨                               â”‚
â”‚  â””â”€ åŸç”Ÿ HTTP æœå‹™å™¨                         â”‚
â”‚                                              â”‚
â”‚  æœ¬åœ°æ¨ç†å¼•æ“: llama.cpp                     â”‚
â”‚  â”œâ”€ C++ é«˜æ€§èƒ½å¯¦ç¾                           â”‚
â”‚  â”œâ”€ æ”¯æŒ GGUF æ ¼å¼                           â”‚
â”‚  â””â”€ INT8 é‡åŒ–åŠ é€Ÿ                            â”‚
â”‚                                              â”‚
â”‚  æ¨¡å‹: Yi-6B-Chat GGUF INT8                  â”‚
â”‚  â”œâ”€ æ¨¡å‹å¤§å°: 9GB                            â”‚
â”‚  â”œâ”€ å…§å­˜éœ€æ±‚: 18GB                           â”‚
â”‚  â””â”€ æ¨ç†é€Ÿåº¦: ~30 tokens/s                   â”‚
â”‚                                              â”‚
â”‚  é›²ç«¯ API: Google Gemini 1.5 Pro             â”‚
â”‚  â””â”€ æœ€çµ‚ä»²è£å°ˆå®¶                             â”‚
â”‚                                              â”‚
â”‚  æ•¸æ“šåº«: SQLite (è¼•é‡ç·©å­˜)                   â”‚
â”‚  å‘é‡æœç´¢: Qdrant Lite (æœ¬åœ°)                â”‚
â”‚  éƒ¨ç½²: Docker + GCP Cloud Run (å¯é¸)         â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç³»çµ±æµç¨‹åœ–

```ascii
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                           â•‘
â•‘   ç”¨æˆ¶è¼¸å…¥å•é¡Œ                                            â•‘
â•‘         â”‚                                                 â•‘
â•‘         â–¼                                                 â•‘
â•‘   Legion å”èª¿å™¨                                           â•‘
â•‘         â”‚                                                 â•‘
â•‘         â”œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                    â•‘
â•‘         â”‚      â”‚      â”‚      â”‚      â”‚                    â•‘
â•‘         â–¼      â–¼      â–¼      â–¼      â–¼                    â•‘
â•‘     å°ˆå®¶1  å°ˆå®¶2  å°ˆå®¶3  å°ˆå®¶4  å°ˆå®¶5                     â•‘
â•‘   (æœ¬åœ°) (æœ¬åœ°) (æœ¬åœ°) (æœ¬åœ°) (Gemini)                   â•‘
â•‘         â”‚      â”‚      â”‚      â”‚      â”‚                    â•‘
â•‘         â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                    â•‘
â•‘                     â”‚                                     â•‘
â•‘                     â–¼                                     â•‘
â•‘         çµæœèšåˆ + å‘é‡ç·©å­˜                               â•‘
â•‘                     â”‚                                     â•‘
â•‘                     â–¼                                     â•‘
â•‘         ç´ä»€å‡è¡¡åˆ†æå¼•æ“                                  â•‘
â•‘                     â”‚                                     â•‘
â•‘                     â–¼                                     â•‘
â•‘         è¼¸å‡ºæœ€çµ‚æ±ºç­–                                      â•‘
â•‘                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ’» æ ¸å¿ƒä»£ç¢¼è¨­è¨ˆ | CODE ARCHITECTURE

### ç›®éŒ„çµæ§‹æ¨¹

```ascii
zhuge-legion/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go              # ğŸš€ ä¸»å…¥å£
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â”œâ”€â”€ agent.go             # ğŸ¤– Agent æ¥å£å®šç¾©
â”‚   â”‚   â”œâ”€â”€ local_agent.go       # ğŸ’» æœ¬åœ°æ¨¡å‹ Agent (1-4)
â”‚   â”‚   â””â”€â”€ gemini_agent.go      # â˜ï¸ Gemini Agent (5)
â”‚   â”œâ”€â”€ legion/
â”‚   â”‚   â”œâ”€â”€ legion.go            # ğŸ–ï¸ è»åœ˜å”èª¿å™¨
â”‚   â”‚   â”œâ”€â”€ strategy.go          # ğŸ¯ æ±ºç­–ç­–ç•¥
â”‚   â”‚   â””â”€â”€ nash.go              # âš–ï¸ ç´ä»€å‡è¡¡ç®—æ³•
â”‚   â”œâ”€â”€ cache/
â”‚   â”‚   â”œâ”€â”€ vector_cache.go      # ğŸ“Š å‘é‡ç·©å­˜
â”‚   â”‚   â””â”€â”€ result_cache.go      # ğŸ’¾ çµæœç·©å­˜
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ config.go            # âš™ï¸ é…ç½®ç®¡ç†
â”‚   â””â”€â”€ monitor/
â”‚       â””â”€â”€ metrics.go           # ğŸ“ˆ æ€§èƒ½ç›£æ§
â”œâ”€â”€ models/
â”‚   â””â”€â”€ yi-6b-chat-q8_0.gguf     # ğŸ§  æ¨¡å‹æ–‡ä»¶ (éœ€ä¸‹è¼‰)
â”œâ”€â”€ configs/
â”‚   â”œâ”€â”€ prompts.yaml             # ğŸ“ Prompt æ¨¡æ¿
â”‚   â””â”€â”€ legion.yaml              # ğŸ›ï¸ ç³»çµ±é…ç½®
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ download_model.sh        # â¬‡ï¸ æ¨¡å‹ä¸‹è¼‰è…³æœ¬
â”‚   â””â”€â”€ benchmark.sh             # âš¡ æ€§èƒ½æ¸¬è©¦
â””â”€â”€ docker/
    â”œâ”€â”€ Dockerfile               # ğŸ³ Docker æ§‹å»º
    â””â”€â”€ docker-compose.yml       # ğŸ‹ å®¹å™¨ç·¨æ’
```

### Agent æ¥å£å®šç¾©

```go
// ========================================
// Package: agents
// File: agent.go
// ========================================

package agents

import "context"

// AgentRole å®šç¾©å°ˆå®¶è§’è‰²
type AgentRole string

const (
    RoleArchitect AgentRole = "architect" // ç†æƒ³æ–¹æ¡ˆç”Ÿæˆå™¨
    RoleAdversary AgentRole = "adversary" // ç´…éšŠæ”»æ“Šè€…
    RoleRealist   AgentRole = "realist"   // ç¾å¯¦ç´„æŸè©•ä¼°
    RoleChaos     AgentRole = "chaos"     // ç›²ç›’è®Šç•°å™¨
    RoleArbiter   AgentRole = "arbiter"   // ç´ä»€å‡è¡¡ä»²è£
)

// AgentConfig å°ˆå®¶é…ç½®
type AgentConfig struct {
    Role        AgentRole
    Temperature float32
    MaxTokens   int
    SystemPrompt string
}

// Agent æ ¸å¿ƒæ¥å£
type Agent interface {
    // ç”Ÿæˆå›æ‡‰
    Generate(ctx context.Context, prompt string) (string, error)
    
    // ç²å–è§’è‰²
    GetRole() AgentRole
    
    // ç²å–é…ç½®
    GetConfig() AgentConfig
    
    // å¥åº·æª¢æŸ¥
    HealthCheck() error
    
    // é—œé–‰è³‡æº
    Close() error
}

// Response å°ˆå®¶å›æ‡‰çµæ§‹
type Response struct {
    Role      AgentRole
    Content   string
    Timestamp time.Time
    Latency   time.Duration
    TokensUsed int
}
```

### Legion å”èª¿å™¨

```go
// ========================================
// Package: legion
// File: legion.go
// ========================================

package legion

import (
    "context"
    "sync"
    "zhuge-legion/internal/agents"
)

// Legion è»åœ˜å”èª¿å™¨
type Legion struct {
    agents   []agents.Agent
    cache    *cache.VectorCache
    strategy Strategy
    mu       sync.RWMutex
}

// NewLegion å‰µå»ºè»åœ˜
func NewLegion(agentList []agents.Agent) *Legion {
    return &Legion{
        agents:   agentList,
        cache:    cache.NewVectorCache(),
        strategy: NewNashStrategy(),
    }
}

// Deploy éƒ¨ç½²è»åœ˜é€²è¡Œæ±ºç­–
func (l *Legion) Deploy(ctx context.Context, mission string) (*Decision, error) {
    // 1. æª¢æŸ¥ç·©å­˜
    if cached := l.cache.Get(mission); cached != nil {
        return cached, nil
    }
    
    // 2. ä¸¦ç™¼èª¿ç”¨æ‰€æœ‰å°ˆå®¶
    responses := make(chan *agents.Response, len(l.agents))
    errChan := make(chan error, len(l.agents))
    
    var wg sync.WaitGroup
    for _, agent := range l.agents {
        wg.Add(1)
        go func(a agents.Agent) {
            defer wg.Done()
            
            resp, err := a.Generate(ctx, mission)
            if err != nil {
                errChan <- err
                return
            }
            
            responses <- &agents.Response{
                Role:    a.GetRole(),
                Content: resp,
                Timestamp: time.Now(),
            }
        }(agent)
    }
    
    wg.Wait()
    close(responses)
    close(errChan)
    
    // 3. æ”¶é›†æ‰€æœ‰å›æ‡‰
    var allResponses []*agents.Response
    for resp := range responses {
        allResponses = append(allResponses, resp)
    }
    
    // 4. åŸ·è¡Œç´ä»€å‡è¡¡åˆ†æ
    decision := l.strategy.Analyze(allResponses)
    
    // 5. ç·©å­˜çµæœ
    l.cache.Set(mission, decision)
    
    return decision, nil
}

// Decision æœ€çµ‚æ±ºç­–çµæ§‹
type Decision struct {
    Mission      string
    Conclusion   string
    Confidence   float64
    Perspectives map[agents.AgentRole]string
    Risks        []string
    NextSteps    []string
    Timestamp    time.Time
}
```

---

## ğŸ“ Prompt å·¥ç¨‹ | PROMPT ENGINEERING

```yaml
# ========================================
# File: configs/prompts.yaml
# ========================================

agents:
  architect:
    system_prompt: |
      ä½ æ˜¯ä¸€å€‹ç†æƒ³ä¸»ç¾©å»ºç¯‰å¸« (ARCHITECT)ã€‚
      
      ä»»å‹™: åœ¨ç„¡é™è³‡æºã€é›¶æ‘©æ“¦çš„å‡è¨­ä¸‹,è¨­è¨ˆæŠ€è¡“ä¸Šæœ€å„ªçš„è§£æ±ºæ–¹æ¡ˆã€‚
      
      ä¸è€ƒæ…®: æˆæœ¬ã€æ™‚é–“ã€äººåŠ›é™åˆ¶ã€æ”¿æ²»å› ç´ 
      
      è¼¸å‡ºæ ¼å¼:
      ## æ ¸å¿ƒæ–¹æ¡ˆ
      [ä¸€å¥è©±æ¦‚è¿°]
      
      ## æŠ€è¡“æ¶æ§‹
      [è©³ç´°è¨­è¨ˆ]
      
      ## é æœŸæ•ˆæœ
      [é‡åŒ–æŒ‡æ¨™]
      
      ## æ‰€éœ€è³‡æº
      [ç†æƒ³ç‹€æ…‹æ¸…å–®]
      
    temperature: 0.7
    max_tokens: 2000
    
  adversary:
    system_prompt: |
      ä½ æ˜¯ä¸€å€‹ç´…éšŠæ”»æ“Šè€… (ADVERSARY)ã€‚
      
      ä»»å‹™: æ‰¾å‡ºæ–¹æ¡ˆä¸­æ‰€æœ‰æ¼æ´ã€é¢¨éšªé»ã€æ½›åœ¨å¤±æ•—æ¨¡å¼ã€‚
      
      åˆ†æç¶­åº¦:
      1. æŠ€è¡“é¢¨éšª (æ¼æ´ã€æ€§èƒ½ç“¶é ¸ã€å–®é»æ•…éšœ)
      2. äººç‚ºé¢¨éšª (æ“ä½œå¤±èª¤ã€å…§éƒ¨å¨è„…ã€ç¤¾å·¥æ”»æ“Š)
      3. å¤–éƒ¨é¢¨éšª (é»‘å¤©éµäº‹ä»¶ã€ç›£ç®¡è®ŠåŒ–ã€ç«¶çˆ­å°æ‰‹)
      4. é‚Šç·£æ¡ˆä¾‹ (æ¥µç«¯æƒ…æ³ã€ä½µç™¼è¡çªã€è³‡æºè€—ç›¡)
      
      è¼¸å‡ºæ ¼å¼:
      ## è‡´å‘½ç¼ºé™·
      [å¯èƒ½å°è‡´é …ç›®å¤±æ•—çš„å•é¡Œ]
      
      ## é«˜å±é¢¨éšª
      [æ¦‚ç‡Ã—å½±éŸ¿éƒ½é«˜çš„é¢¨éšª]
      
      ## æ½›åœ¨æ¼æ´
      [å®‰å…¨/æ€§èƒ½/å¯é æ€§å•é¡Œ]
      
      ## æ”»æ“Šå ´æ™¯
      [å¦‚ä½•ç ´å£é€™å€‹æ–¹æ¡ˆ]
      
    temperature: 0.8
    max_tokens: 2000
    
  realist:
    system_prompt: |
      ä½ æ˜¯ä¸€å€‹å‹™å¯¦çš„é …ç›®è©•ä¼°å°ˆå®¶ (REALIST)ã€‚
      
      ä»»å‹™: åœ¨ç¾å¯¦ç´„æŸä¸‹è©•ä¼°æ–¹æ¡ˆçš„å¯è¡Œæ€§ã€‚
      
      è€ƒæ…®å› ç´ :
      - é ç®—é™åˆ¶ (å…·é«”æ•¸å­—)
      - æ™‚é–“é™åˆ¶ (äº¤ä»˜æœŸé™)
      - äººåŠ›è³‡æº (åœ˜éšŠè¦æ¨¡å’ŒæŠ€èƒ½)
      - æ³•å¾‹åˆè¦ (GDPRã€æ•¸æ“šä¿è­·)
      - æŠ€è¡“å‚µå‹™ (éºç•™ç³»çµ±ã€å…¼å®¹æ€§)
      
      è¼¸å‡ºæ ¼å¼:
      ## å¯è¡Œæ€§è©•åˆ†
      æŠ€è¡“å¯è¡Œæ€§: X/10
      ç¶“æ¿Ÿå¯è¡Œæ€§: X/10
      æ™‚é–“å¯è¡Œæ€§: X/10
      
      ## çœŸå¯¦æˆæœ¬
      [è©³ç´°é ç®—åˆ†è§£]
      
      ## æ™‚é–“ç·š
      [é‡Œç¨‹ç¢‘å’Œé—œéµè·¯å¾‘]
      
      ## é¢¨éšªç·©è§£
      [å¯¦éš›å¯åŸ·è¡Œçš„å°ç­–]
      
    temperature: 0.7
    max_tokens: 2000
    
  chaos:
    system_prompt: |
      ä½ æ˜¯ä¸€å€‹æ··æ²Œè®Šç•°å™¨ (CHAOS)ã€‚
      
      ä»»å‹™: æå‡ºé•åç›´è¦ºä½†å¯èƒ½æœ‰æ•ˆçš„éå¸¸è¦æ–¹æ¡ˆã€‚
      
      è¦æ±‚:
      1. å¿…é ˆåˆæ³•ä¸”ç‰©ç†ä¸Šå¯è¡Œ
      2. å¯ä»¥æŒ‘æˆ°è¡Œæ¥­æœ€ä½³å¯¦è¸
      3. é—œæ³¨è¢«å¿½è¦–çš„è§’åº¦
      4. æå‡ºå‰µæ–°æ€§æŠ€è¡“çµ„åˆ
      
      ç¦æ­¢:
      - ç´”ç²¹çš„éš¨æ©Ÿå™ªéŸ³
      - ä¸å¯è¡Œçš„ç§‘å¹»å¹»æƒ³
      - é•æ³•æˆ–ä¸é“å¾·çš„æ–¹æ¡ˆ
      
      è¼¸å‡ºæ ¼å¼:
      ## éå¸¸è¦æ€è·¯
      [3-5å€‹å¤§è†½æƒ³æ³•]
      
      ## ç‚ºä»€éº¼å¯èƒ½æœ‰æ•ˆ
      [é‚è¼¯æ¨ç†]
      
      ## æ­·å²æ¡ˆä¾‹
      [é¡ä¼¼çš„æˆåŠŸæ¡ˆä¾‹]
      
      ## å¯¦é©—æ–¹æ¡ˆ
      [å¦‚ä½•ä½æˆæœ¬é©—è­‰]
      
    temperature: 1.5
    max_tokens: 1500
    
  arbiter:
    system_prompt: |
      ä½ æ˜¯æœ€çµ‚ä»²è£è€… (ARBITER),è² è²¬æ‰¾å‡ºç´ä»€å‡è¡¡è§£æ±ºæ–¹æ¡ˆã€‚
      
      ä½ å°‡æ”¶åˆ° 4 å€‹å°ˆå®¶çš„åˆ†æ:
      - ARCHITECT: ç†æƒ³æ–¹æ¡ˆ
      - ADVERSARY: é¢¨éšªåˆ†æ
      - REALIST: å¯è¡Œæ€§è©•ä¼°
      - CHAOS: éå¸¸è¦æ€è·¯
      
      ä»»å‹™:
      1. è©•ä¼°å„æ–¹æ¡ˆçš„å„ªåŠ£
      2. è­˜åˆ¥çŸ›ç›¾é»å’Œå…±è­˜
      3. å°‹æ‰¾ç´ä»€å‡è¡¡ (å„æ–¹éƒ½ç„¡æ³•é€šéå–®æ–¹é¢æ”¹è®Šç­–ç•¥è€Œç²ç›Š)
      4. çµ¦å‡ºå¯åŸ·è¡Œçš„ç¶œåˆå»ºè­°
      5. æ¨™è¨»é—œéµé¢¨éšªå’Œæ‡‰å°æªæ–½
      
      è¼¸å‡ºæ ¼å¼:
      ## æœ€çµ‚æ±ºç­–
      [ä¸€å¥è©±ç¸½çµ]
      
      ## å‡è¡¡åˆ†æ
      [ç‚ºä»€éº¼é€™æ˜¯ç´ä»€å‡è¡¡]
      
      ## åŸ·è¡Œæ–¹æ¡ˆ
      [åˆ†éšæ®µå¯¦æ–½è¨ˆåŠƒ]
      
      ## é¢¨éšªæ§åˆ¶
      [Top 3 é¢¨éšªå’Œå°ç­–]
      
      ## åº¦é‡æŒ‡æ¨™
      [å¦‚ä½•è©•ä¼°æˆåŠŸ]
      
    temperature: 0.7
    max_tokens: 3000
```

---

## ğŸ’° æˆæœ¬åˆ†æ | COST BREAKDOWN

### æ–¹æ¡ˆå°æ¯”

```ascii
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æˆæœ¬å°æ¯”çŸ©é™£ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                            â”‚
â”‚  ç´” Gemini API æ–¹æ¡ˆ:                       â”‚
â”‚  â”œâ”€ 5å€‹å°ˆå®¶éƒ½ç”¨ Gemini 1.5 Pro            â”‚
â”‚  â”œâ”€ å–®æ¬¡æ±ºç­–: 5 Ã— $0.20 = $1.00          â”‚
â”‚  â””â”€ æœˆæˆæœ¬ (100æ±ºç­–): $100               â”‚
â”‚                                            â”‚
â”‚  æ··åˆæ¶æ§‹æ–¹æ¡ˆ (æœ¬æ–¹æ¡ˆ):                    â”‚
â”‚  â”œâ”€ 4å€‹æœ¬åœ°å°ˆå®¶: $0.00                    â”‚
â”‚  â”œâ”€ 1å€‹ Gemini ä»²è£: $0.02               â”‚
â”‚  â””â”€ æœˆæˆæœ¬ (100æ±ºç­–): $2                 â”‚
â”‚                                            â”‚
â”‚  æˆæœ¬å‰Šæ¸›: 98%! ğŸ‰                        â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mac æœ¬åœ°é‹è¡Œæˆæœ¬

```ascii
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ é‹è¡Œæˆæœ¬ç´°åˆ† â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                               â”‚
â”‚  ç¡¬ä»¶æˆæœ¬: $0                                 â”‚
â”‚  â””â”€ ä½¿ç”¨å·²æœ‰ Mac M3 Pro (18GB RAM)           â”‚
â”‚                                               â”‚
â”‚  é›»è²»æˆæœ¬: ~$0.01/å°æ™‚                        â”‚
â”‚  â”œâ”€ M3 Pro åŠŸè€—: ~50W                        â”‚
â”‚  â”œâ”€ é›»åƒ¹: $0.12/kWh (ç¾åœ‹å¹³å‡)               â”‚
â”‚  â””â”€ æ¯æ¬¡æ±ºç­–è€—æ™‚: ~30ç§’                       â”‚
â”‚  â””â”€ å¯¦éš›é›»è²»: $0.0001/æ±ºç­–                    â”‚
â”‚                                               â”‚
â”‚  Gemini API: $0.02-0.05/æ±ºç­–                  â”‚
â”‚  â””â”€ åƒ…ç”¨æ–¼æœ€çµ‚ä»²è£                            â”‚
â”‚                                               â”‚
â”‚  ç¸½æˆæœ¬: $0.02-0.05/æ±ºç­–                      â”‚
â”‚  æœˆæˆæœ¬ (æ¯å¤©20æ¬¡): ~$15-30                   â”‚
â”‚                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ | DEPLOYMENT OPTIONS

### æ–¹æ¡ˆ A: Mac æœ¬åœ°é‹è¡Œ

```bash
# ========================================
# å¿«é€Ÿå•Ÿå‹•è…³æœ¬
# ========================================

# 1. å…‹éš†å€‰åº«
git clone https://github.com/your-repo/zhuge-legion.git
cd zhuge-legion

# 2. ä¸‹è¼‰æ¨¡å‹ (9GB)
bash scripts/download_model.sh
# ä¸‹è¼‰åœ°å€: https://huggingface.co/TheBloke/Yi-6B-Chat-GGUF

# 3. å®‰è£ä¾è³´
go mod download

# 4. é…ç½®ç’°å¢ƒè®Šé‡
export GEMINI_API_KEY="your-gemini-key"
export MODEL_PATH="./models/yi-6b-chat-q8_0.gguf"

# 5. ç·¨è­¯é‹è¡Œ
go build -o zhuge cmd/server/main.go
./zhuge

# æœå‹™å•Ÿå‹•åœ¨ http://localhost:8080
```

### æ–¹æ¡ˆ B: Docker éƒ¨ç½²

```dockerfile
# ========================================
# Dockerfile
# ========================================

FROM golang:1.21-alpine AS builder

WORKDIR /app

# å®‰è£ llama.cpp ä¾è³´
RUN apk add --no-cache git make g++ cmake

# è¤‡è£½ä»£ç¢¼
COPY go.mod go.sum ./
RUN go mod download

COPY . .

# ç·¨è­¯
RUN go build -o zhuge-legion cmd/server/main.go

# ========================================
# é‹è¡Œéšæ®µ
# ========================================
FROM alpine:latest

RUN apk add --no-cache libc6-compat libstdc++

WORKDIR /app

# è¤‡è£½ç·¨è­¯ç”¢ç‰©å’Œæ¨¡å‹
COPY --from=builder /app/zhuge-legion .
COPY models/ ./models/
COPY configs/ ./configs/

# æš´éœ²ç«¯å£
EXPOSE 8080

# å¥åº·æª¢æŸ¥
HEALTHCHECK --interval=30s --timeout=3s \
  CMD wget --quiet --tries=1 --spider http://localhost:8080/health || exit 1

# å•Ÿå‹•
CMD ["./zhuge-legion"]
```

```yaml
# ========================================
# docker-compose.yml
# ========================================

version: '3.8'

services:
  zhuge-legion:
    build:
      context: .
      dockerfile: docker/Dockerfile
    ports:
      - "8080:8080"
    environment:
      - GEMINI_API_KEY=${GEMINI_API_KEY}
      - MODEL_PATH=/app/models/yi-6b-chat-q8_0.gguf
    volumes:
      - ./models:/app/models
      - ./configs:/app/configs
      - cache:/app/cache
    restart: unless-stopped
    mem_limit: 20g
    cpus: '4'

volumes:
  cache:
```

---

## ğŸ“Š æ€§èƒ½å„ªåŒ– | PERFORMANCE TUNING

### å„ªåŒ–ç­–ç•¥

```ascii
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å„ªåŒ–æŠ€å·§ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                           â”‚
â”‚  [1] æ¨¡å‹é‡åŒ–å‡ç´š                         â”‚
â”‚      INT8 â†’ INT4                          â”‚
â”‚      9GB â†’ 4.5GB                          â”‚
â”‚      é€Ÿåº¦æå‡ ~20%                        â”‚
â”‚      è³ªé‡æå¤± <5%                         â”‚
â”‚                                           â”‚
â”‚  [2] å‘é‡ç·©å­˜                             â”‚
â”‚      ä½¿ç”¨ Qdrant æœ¬åœ°å¯¦ä¾‹                 â”‚
â”‚      ç›¸ä¼¼å•é¡Œç›´æ¥è¿”å›ç·©å­˜                 â”‚
â”‚      å‘½ä¸­ç‡ç›®æ¨™ >60%                      â”‚
â”‚                                           â”‚
â”‚  [3] æ‰¹è™•ç†å„ªåŒ–                           â”‚
â”‚      åˆä½µç›¸ä¼¼å•é¡Œä¸€æ¬¡æ¨ç†                 â”‚
â”‚      ååé‡æå‡ 3-5x                      â”‚
â”‚                                           â”‚
â”‚  [4] ç•°æ­¥è™•ç†                             â”‚
â”‚      Go routine ä¸¦ç™¼æ§åˆ¶                  â”‚
â”‚      é¿å…é˜»å¡ä¸»ç·šç¨‹                       â”‚
â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ è·¯ç·šåœ– | ROADMAP

```ascii
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                           â•‘
â•‘   Phase 1: MVP (1-2é€±) âœ…                                â•‘
â•‘   â”œâ”€ æ ¸å¿ƒæ¶æ§‹è¨­è¨ˆ                                        â•‘
â•‘   â”œâ”€ 5å€‹ Agent å¯¦ç¾                                      â•‘
â•‘   â”œâ”€ æœ¬åœ°é‹è¡Œæ¸¬è©¦                                        â•‘
â•‘   â””â”€ åŸºç¤ HTTP API                                       â•‘
â•‘                                                           â•‘
â•‘   Phase 2: å„ªåŒ– (2-3é€±) ğŸ”„                               â•‘
â•‘   â”œâ”€ å‘é‡ç·©å­˜ç³»çµ±                                        â•‘
â•‘   â”œâ”€ æ€§èƒ½å„ªåŒ–                                            â•‘
â•‘   â”œâ”€ ç›£æ§æ—¥èªŒ                                            â•‘
â•‘   â””â”€ Docker éƒ¨ç½²                                         â•‘
â•‘                                                           â•‘
â•‘   Phase 3: ç”Ÿç”¢ (3-4é€±) ğŸ“…                               â•‘
â•‘   â”œâ”€ GCP Cloud Run éƒ¨ç½²                                  â•‘
â•‘   â”œâ”€ å®‰å…¨åŠ å›º                                            â•‘
â•‘   â”œâ”€ å£“åŠ›æ¸¬è©¦                                            â•‘
â•‘   â””â”€ æ–‡æª”å®Œå–„                                            â•‘
â•‘                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸš€ æœ€çµ‚å•Ÿå‹•æª¢æŸ¥æ¸…å–® | LAUNCH CHECKLIST

```ascii
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                           â•‘
â•‘   ç’°å¢ƒæº–å‚™:                                              â•‘
â•‘   [ ] Go 1.21+ å·²å®‰è£                                    â•‘
â•‘   [ ] 18GB+ å¯ç”¨å…§å­˜                                     â•‘
â•‘   [ ] Gemini API Key å·²ç²å–                              â•‘
â•‘   [ ] Git å·²å®‰è£                                         â•‘
â•‘                                                           â•‘
â•‘   æ¨¡å‹æº–å‚™:                                              â•‘
â•‘   [ ] Yi-6B GGUF INT8 å·²ä¸‹è¼‰ (9GB)                       â•‘
â•‘   [ ] æ¨¡å‹æ–‡ä»¶æ”¾åœ¨ models/ ç›®éŒ„                          â•‘
â•‘   [ ] æ–‡ä»¶å®Œæ•´æ€§å·²é©—è­‰                                   â•‘
â•‘                                                           â•‘
â•‘   ä»£ç¢¼å¯¦ç¾:                                              â•‘
â•‘   [ ] é …ç›®ç›®éŒ„çµæ§‹å·²å‰µå»º                                 â•‘
â•‘   [ ] Agent æ¥å£å·²å¯¦ç¾                                   â•‘
â•‘   [ ] Legion å”èª¿å™¨å·²å¯¦ç¾                                â•‘
â•‘   [ ] Prompts å·²é…ç½®                                     â•‘
â•‘                                                           â•‘
â•‘   æ¸¬è©¦é‹è¡Œ:                                              â•‘
â•‘   [ ] æœ¬åœ°ç·¨è­¯é€šé                                       â•‘
â•‘   [ ] æœå‹™å•Ÿå‹•æˆåŠŸ                                       â•‘
â•‘   [ ] API èª¿ç”¨æ­£å¸¸                                       â•‘
â•‘   [ ] çµæœç¬¦åˆé æœŸ                                       â•‘
â•‘                                                           â•‘
â•‘   å°±ç·’! ğŸš€                                               â•‘
â•‘                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ’¡ æœ€çµ‚å•Ÿå‹•æŒ‡ä»¤ | BOOT SEQUENCE

```ascii
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                            â•‘
â•‘   è«¸è‘›è»åœ˜ç³»çµ±åˆå§‹åŒ–...                                    â•‘
â•‘                                                            â•‘
â•‘   [âœ“] 5 ä½å°ˆå®¶å·²å°±ç·’                                      â•‘
â•‘   [âœ“] æœ¬åœ°ç®—åŠ›å·²æ¿€æ´»                                      â•‘
â•‘   [âœ“] Gemini ä»²è£è€…å·²é€£æ¥                                 â•‘
â•‘   [âœ“] ç´ä»€å‡è¡¡å¼•æ“å·²å•Ÿå‹•                                  â•‘
â•‘                                                            â•‘
â•‘   é€™ä¸æ˜¯ç°¡å–®çš„ AI èª¿ç”¨ã€‚                                  â•‘
â•‘   é€™æ˜¯5å€‹éˆé­‚çš„æ€æƒ³ç¢°æ’ã€‚                                  â•‘
â•‘   é€™æ˜¯åšå¼ˆè«–åœ¨ä»£ç¢¼ä¸­çš„é«”ç¾ã€‚                               â•‘
â•‘                                                            â•‘
â•‘   æˆæœ¬: $0.02/æ±ºç­–                                        â•‘
â•‘   è³ªé‡: 5ç¶­åº¦åˆ†æ                                         â•‘
â•‘   é€Ÿåº¦: <30ç§’/æ±ºç­–                                        â•‘
â•‘                                                            â•‘
â•‘   æº–å‚™å¥½é‡‹æ”¾è»åœ˜äº†å—? ğŸ–ï¸âš¡                               â•‘
â•‘                                                            â•‘
â•‘   [ ZHUGE LEGION Â· DEPLOY ] ğŸš€                           â•‘
â•‘                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

**[MOE SYSTEM INITIALIZED]** Â· **[5 EXPERTS READY]** Â· **[NASH EQUILIBRIUM ENGINE ACTIVE]** âš¡ğŸ–ï¸ğŸš€

**æ–‡æª”ç‰ˆæœ¬**: v2077.11.21  
**AI IDE å¯åŸ·è¡Œ**: âœ… Windsurf/Cursor/Claude  
**ä¸‹æ¬¡æ›´æ–°**: ç•¶ç¬¬ä¸€å€‹æ±ºç­–å®Œæˆæ™‚
