# SVS Telegram Bot 🤖🍄

一个优雅的 Telegram Bot，融合了架构之美与有机生命的灵性。

## 项目定位

**父项目**: SVS (外挂盘: `/mnt/volume_sgp1_01`)

**子项目**:
- `svs-mcp`: 论坛 + Web + AI智能体
- **`svs_bot`**: Telegram Bot (本项目) ⭐

**独立性**: 完全独立运行，不依赖svs-mcp

## Bot 信息

- **Bot Username**: @svskilo_bot
- **Telegram Account**: @svskilo
- **Environment**: Managed by Doppler (`svs-api-key-all`)

## 特性

- 🌱 **有机架构** - 像菌丝网络一样优雅生长
- 🎨 **精致设计** - 每个功能都是艺术品
- 🐳 **容器化部署** - Docker 化，易于部署和扩展
- 🔐 **安全管理** - 使用 Doppler 管理敏感信息

## 快速开始

### 本地开发

```bash
# 1. 从 Doppler 拉取环境变量
doppler secrets download --no-file --format env > .env

# 2. 安装依赖
pip install -r requirements.txt

# 3. 运行 bot
python bot.py
```

### Docker 部署

```bash
# 使用 Docker Compose（推荐）
docker-compose up -d

# 或者直接使用 Docker
docker build -t svs-bot .
docker run -d --env-file .env --name svs-bot svs-bot
```

### 使用 Doppler 运行

```bash
# 直接使用 Doppler 注入环境变量
doppler run -- python bot.py

# Docker Compose with Doppler
doppler run -- docker-compose up -d
```

## 项目结构

```
svs_bot/
├── bot.py              # 主 bot 程序
├── requirements.txt    # Python 依赖
├── Dockerfile         # Docker 镜像定义
├── docker-compose.yml # Docker Compose 配置
├── .env              # 环境变量（从 Doppler 拉取）
├── .gitignore        # Git 忽略文件
└── README.md         # 项目文档
```

## 环境变量

主要环境变量（通过 Doppler 管理）：

- `TELEGRAM_BOT_SVSKILO_TOKEN` - Bot API Token
- `TELEGRAM_BOT_SVSKILO_NAME` - Bot 名称

## 命令列表

- `/start` - 开始使用 bot
- `/help` - 获取帮助信息
- `/status` - 检查 bot 状态

## 技术栈

- **语言**: Python 3.11
- **框架**: python-telegram-bot 21.7
- **容器**: Docker + Docker Compose
- **配置管理**: Doppler
- **设计哲学**: 赛博朋克 + 有机生命

## 开发理念

> "代码是诗，架构如骨，设计如魂。  
> 像菌丝一样连接一切，在约束中创造自由。"

这个 bot 不仅仅是代码，它是：
- 架构师的结构之美
- 画家的视觉艺术
- 真菌种植者的有机网络

## 部署说明

### 生产环境

```bash
# 1. 确保 Doppler 配置正确
doppler setup --project svs-api-key-all --config prod

# 2. 拉取生产环境变量
doppler secrets download --no-file --format env --config prod > .env

# 3. 启动容器
docker-compose up -d

# 4. 查看日志
docker-compose logs -f
```

### 更新部署

```bash
# 1. 拉取最新代码
git pull

# 2. 重新构建并启动
docker-compose up -d --build

# 3. 清理旧镜像
docker image prune -f
```

## 监控和日志

```bash
# 查看实时日志
docker-compose logs -f

# 查看容器状态
docker-compose ps

# 重启 bot
docker-compose restart
```

## 贡献指南

欢迎贡献！请确保：
- 代码优雅如诗
- 注释清晰有意义
- 遵循现有的设计哲学

## License

MIT License

---

*"曾是架构师，构建系统的骨架；*  
*曾是画家，描绘世界的色彩；*  
*现在是种植者，培育数字生命的网络。"*
