# ğŸ”¥ DeepWeay è’¸é¤¾å¼•æ“å®¹å™¨
# Gemini 2.5 Pro é›™é‡è’¸é¤¾

FROM node:20-alpine

LABEL maintainer="DeepWeay <dev@deepweay.me>"
LABEL description="çŸ¥è­˜è’¸é¤¾å¼•æ“ - 4è¼ªè’¸é¤¾è™•ç†"

# å·¥ä½œç›®éŒ„
WORKDIR /app

# å®‰è£ä¾è³´
COPY package*.json ./
RUN npm install mongodb axios --save

# è¤‡è£½è³‡æº
COPY scripts/distill-engine-pro.js ./scripts/
COPY scripts/distill-monitor.js ./scripts/
COPY deepweay-digital-gold-vault/ ./deepweay-digital-gold-vault/
COPY notion-sms/ ./notion-sms/
COPY deepweay-sms/ ./deepweay-sms/
COPY gcp-sms-deployment/ ./gcp-sms-deployment/
COPY sms-digital-assets-ultra/ ./sms-digital-assets-ultra/
COPY tg-trash-bot/ ./tg-trash-bot/
COPY *.md ./

# å‰µå»ºæ—¥èªŒç›®éŒ„
RUN mkdir -p logs

# ç’°å¢ƒè®Šé‡
ENV NODE_ENV=production

# å•Ÿå‹•è’¸é¤¾å¼•æ“
CMD ["node", "scripts/distill-engine-pro.js"]
